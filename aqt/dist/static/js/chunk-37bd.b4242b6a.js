(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-37bd"],{"1Aur":function(t,e,a){"use strict";var i=a("stOj");a.n(i).a},MwSi:function(t,e){t.exports="data:image/png;base64,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"},QtRC:function(t,e,a){"use strict";a.r(e);var i=a("FyfS"),r=a.n(i),n=a("jXb0");Math.easeInOutQuad=function(t,e,a,i){return(t/=i/2)<1?a/2*t*t+e:-a/2*(--t*(t-2)-1)+e};var o=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)};function s(t,e,a){var i=document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop,r=t-i,n=0;e=void 0===e?500:e;!function t(){n+=20,function(t){document.documentElement.scrollTop=t,document.body.parentNode.scrollTop=t,document.body.scrollTop=t}(Math.easeInOutQuad(n,i,r,e)),n<e?o(t):a&&"function"==typeof a&&a()}()}var l={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:20},pageSizes:{type:Array,default:function(){return[10,20,30,50]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(t){this.$emit("update:page",t)}},pageSize:{get:function(){return this.limit},set:function(t){this.$emit("update:limit",t)}}},methods:{handleSizeChange:function(t){this.$emit("pagination",{page:this.currentPage,limit:t}),this.autoScroll&&s(0,800)},handleCurrentChange:function(t){this.$emit("pagination",{page:t,limit:this.pageSize}),this.autoScroll&&s(0,800)}}},p=(a("yiRf"),a("KHd+")),u=Object(p.a)(l,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pagination-container",class:{hidden:t.hidden}},[a("el-pagination",t._b({attrs:{background:t.background,"current-page":t.currentPage,"page-size":t.pageSize,layout:t.layout,"page-sizes":t.pageSizes,total:t.total},on:{"update:currentPage":function(e){t.currentPage=e},"update:pageSize":function(e){t.pageSize=e},"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}},"el-pagination",t.$attrs,!1))],1)},[],!1,null,"14d4e208",null);u.options.__file="index.vue";var c=u.exports,m=a("tWJv"),d=a("bNJ/");var g=a("xGbm"),f=a("XJYT"),v=a.n(f),h=a("Q2AE"),_={name:"MetaData",components:{ElTableFooter:v.a,fixedButton:n.a,Pagination:c},data:function(){return{appId:0,showAction:!1,listLoading:!0,list:null,total:10,dialogFormVisible:!1,dialogStatus:"create",dialogEditCount:0,imagePlaceHolder:a("MwSi"),textMap:{update:this.$t("actions.edit"),create:this.$t("actions.add")},temp:{id:0,version:"",parent_version:"",platform:[],approval_time:void 0,lock_time:void 0,gray_time:void 0,create_time:void 0,release_time:void 0,status:0,app_status:"",app_id:0},listQuery:{page:0,size:10,name:"",owner:"",sort:"-id",app_id:0},simpleAppList:null,currentSimpleApp:{owner_id:0,name:"",managers:[],id:0,icon:"",owner:{username:"",id:0}},platformOptions:[{value:"iOS",label:"iOS"},{value:"Android",label:"Android"},{value:"H5",label:"H5"},{value:"Server",label:"Server"}],statusOptions:[{value:"1",label:this.$t("selector.preparing")},{value:"2",label:this.$t("selector.developing")},{value:"3",label:this.$t("selector.gray")},{value:"4",label:this.$t("selector.release")}],rules:{version:[{required:!0,message:"必填,格式:1.0.0",trigger:"blur"},{pattern:/\d+(\.\d+)*/,message:"输入格式1.0.0,只能是`数字`和 `.`",trigger:"blur"}],approval_time:[{required:!0,message:"必选",trigger:"change"}],lock_time:[{required:!0,message:"必选",trigger:"change"}],gray_time:[{required:!0,message:"必选",trigger:"change"}],platform:[{required:!1,message:"选填",trigger:"change"}]}}},computed:{checkPermission:function(){var t=h.a.getters.userId;if(this.currentSimpleApp.owner_id===t)return!0;if(this.currentSimpleApp.managers){var e=!0,a=!1,i=void 0;try{for(var n,o=r()(this.currentSimpleApp.managers);!(e=(n=o.next()).done);e=!0){if(n.value.id===t)return!0}}catch(t){a=!0,i=t}finally{try{!e&&o.return&&o.return()}finally{if(a)throw i}}}return!1}},watch:{temp:{handler:function(){"update"===this.dialogStatus&&this.dialogEditCount++},deep:!0}},created:function(){this.getSimpleAppList()},methods:{getSimpleAppList:function(){var t=this;this.listLoading=!0,Object(m.c)().then(function(e){t.simpleAppList=e.list,t.currentSimpleApp=t.simpleAppList[0],t.listQuery.app_id=t.currentSimpleApp.id,t.getList()})},getList:function(){var t=this;(function(t){return Object(d.a)({url:"/app/version/list",method:"get",params:t})})(this.listQuery).then(function(e){t.list=e.list,t.total=e.total,t.listLoading=!1}).catch(function(){t.listLoading=!1})},formatStatusString:function(t){switch(t+1){case 1:return this.$t("selector.preparing");case 2:return this.$t("selector.developing");case 3:return this.$t("selector.gray");case 4:return this.$t("selector.release");case 5:return this.$t("selector.workDone");default:return"title undefined"}},formatStatusButtonConfirmString:function(t){return this.$t("selector.confirmChange")},formatTagString:function(t){switch(t){case 1:return"";case 2:return"success";case 3:return"warning";case 4:return"danger";case 5:return"info"}return""},deleteVersionPopover:function(t){t.pop_de_status=!1,this.removeAppVersion(t)},cancelPopover:function(t){t.pop_status=!1,t.pop_de_status=!1},confirmPopover:function(t){t.pop_status=!1,this.updateStatus(t)},formatPlatform:function(t){return t?t.join(","):"-"},formatDate:function(t){if(!t||0===t)return"-";var e=new Date(1e3*t);return Object(g.a)(e,"yyyy-MM-dd")},resetTemp:function(){this.temp={id:0,version:"",parent_version:"",platform:[],approval_time:void 0,lock_time:void 0,gray_time:void 0,create_time:void 0,status:0,app_status:"",app_id:1e4}},handleTempTime:function(t){return{id:t.id,version:t.version,parent_version:t.parent_version,platform:t.platform?t.platform:[],approval_time:t.approval_time?new Date(1e3*t.approval_time):new Date,lock_time:t.lock_time?new Date(1e3*t.lock_time):new Date,gray_time:t.gray_time?new Date(1e3*t.gray_time):new Date,create_time:t.create_time?new Date(1e3*t.create_time):new Date,release_time:t.release_time?new Date(1e3*t.release_time):0,status:t.status,app_status:t.app_status,app_id:t.app_id}},removeAppVersion:function(t){var e=this;(function(t){var e={id:t};return Object(d.a)({url:"/app/version",method:"delete",data:e})})(t.id).then(function(){e.getList()})},createData:function(){var t=this;this.$refs.dataForm.validate(function(e){if(e){if(t.temp.approval_time>t.temp.lock_time)return void t.$message.error("立项时间必须早于锁版时间");if(t.temp.lock_time>t.temp.gray_time)return void t.$message.error("锁版时间必须早于灰度时间");(function(t,e,a,i,r,n,o){var s={app_id:t,version:e,parent_version:a,platform:i,approval_time:r,lock_time:n,gray_time:o};return Object(d.a)({url:"/app/version",method:"post",data:s})})(t.listQuery.app_id,t.temp.version,t.temp.parent_version,t.temp.platform,t.temp.approval_time.valueOf()/1e3,t.temp.lock_time.valueOf()/1e3,t.temp.gray_time.valueOf()/1e3).then(function(e){t.list.unshift(e.app),t.dialogFormVisible=!1,t.resetTemp(),t.$notify({title:"成功",message:"创建成功",type:"success",duration:2e3})})}})},updateStatus:function(t){var e=this;(function(t,e){var a={id:t,status:e};return console.log("editStatus",a),Object(d.a)({url:"/app/version",method:"put",data:a})})(t.id,t.status+1).then(function(){e.getList(),e.$notify({title:"成功",message:"修改成功",type:"success",duration:2e3})})},updateDate:function(){var t=this;this.dialogEditCount<1?this.dialogFormVisible=!1:this.$refs.dataForm.validate(function(e){if(e){if(t.temp.approval_time>t.temp.lock_time)return void t.$message.error("锁版时间必须晚于立项时间");if(t.temp.lock_time>t.temp.gray_time)return void t.$message.error("灰度时间必须晚于锁版时间");if(t.temp.release_time&&t.temp.release_time<t.temp.gray_time)return void t.$message.error("发布时间必须晚于灰度时间");var a=parseInt("0"),i=parseInt("0"),n=parseInt("0"),o=parseInt("0"),s="",l=[],p="";t.temp.lock_time=t.temp.lock_time.getTime()/1e3,t.temp.gray_time=t.temp.gray_time.getTime()/1e3,t.temp.approval_time=t.temp.approval_time.getTime()/1e3,t.temp.release_time=t.temp.release_time.getTime()/1e3,t.temp.status<2&&(n=t.temp.approval_time,l=t.temp.platform,p=t.temp.version,s=t.temp.parent_version),t.temp.status<3&&(i=t.temp.lock_time),t.temp.status<4&&(a=t.temp.gray_time),console.log("status",t.temp.status),4===t.temp.status&&(o=t.temp.release_time),"-"===t.temp.parent_version&&(s=""),function(t){return Object(d.a)({url:"/app/version",method:"put",data:t})}({id:t.temp.id,version:p,parent_version:s,platform:l,approval_time:n,lock_time:i,gray_time:a,release_time:o}).then(function(){var e=!0,a=!1,i=void 0;try{for(var n,o=r()(t.list);!(e=(n=o.next()).done);e=!0){var s=n.value;if(s.id===t.temp.id){var l=t.list.indexOf(s);t.list.splice(l,1,t.temp);break}}}catch(t){a=!0,i=t}finally{try{!e&&o.return&&o.return()}finally{if(a)throw i}}t.resetTemp(),t.dialogFormVisible=!1,t.$notify({title:"成功",message:"修改成功",type:"success",duration:2e3})})}})},handleCreate:function(){var t=this;"update"===this.dialogStatus&&this.resetTemp(),this.dialogStatus="create",this.dialogFormVisible=!0,this.$nextTick(function(){t.$refs.dataForm.clearValidate()})},handleUpdate:function(t){var e=this;this.temp=this.handleTempTime(t),this.dialogStatus="update",this.dialogFormVisible=!0,this.dialogEditCount=-1,this.$nextTick(function(){e.$refs.dataForm.clearValidate()})},sortChange:function(t){var e=t.prop,a=t.order;"id"===e&&this.sortByID(a)},sortByID:function(t){this.listQuery.sort="ascending"===t?"+_id":"-_id",this.handleFilter()},handleFilter:function(){var t=this;this.currentSimpleApp=this.simpleAppList.filter(function(e){return e.id===t.listQuery.app_id})[0],this.listQuery.page=1,this.getList()}}},A=(a("1Aur"),Object(p.a)(_,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("section",{staticClass:"content"},[a("fixed-button",{staticClass:"fixed-container",attrs:{bottom:3},on:{clickEvent:t.handleCreate}},[a("svg-icon",{staticClass:"icon-add",attrs:{"icon-class":"add"}})],1)],1),t._v(" "),a("div",{staticClass:"filter-container",staticStyle:{"margin-bottom":"20px"},attrs:{align:"center"}},[a("label",{staticStyle:{color:"#2d2f33"}},[t._v("选择App")]),t._v(" "),a("el-select",{on:{change:t.handleFilter},model:{value:t.listQuery.app_id,callback:function(e){t.$set(t.listQuery,"app_id",e)},expression:"listQuery.app_id"}},t._l(t.simpleAppList,function(t){return a("el-option",{key:t.id,attrs:{label:"("+t.id+")"+t.name,value:t.id}})})),t._v(" "),a("img",{staticStyle:{height:"50px",display:"inline-block","margin-bottom":"-15px","margin-left":"10px"},attrs:{src:t.currentSimpleApp?t.currentSimpleApp.icon:t.imagePlaceHolder}}),t._v(" "),a("span",{staticStyle:{color:"#2d2f33"}},[t._v(t._s(t.$t("table.owner"))+":")]),t._v(" "),a("label",{staticStyle:{color:"#2d2f33"}},[t._v(t._s(t.currentSimpleApp?t.currentSimpleApp.owner.username:""))])],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.list,border:"",fit:"","highlight-current-row":"","header-row-class-name":"center"},on:{"sort-change":t.sortChange}},[a("el-table-column",{attrs:{label:t.$t("table.id"),prop:"id",sortable:"custom",align:"center",width:"80px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.id))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("appVersion.versionN"),align:"center","min-width":"90px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.version))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("appVersion.parentVN"),align:"center","min-width":"90px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.parent_version))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("appVersion.platform"),align:"center","min-width":"150px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t.formatPlatform(e.row.platform)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("appVersion.approvalTime"),align:"center","min-width":"90px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t.formatDate(e.row.approval_time)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("appVersion.lockTime"),align:"center","min-width":"90px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t.formatDate(e.row.lock_time)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("appVersion.grayTime"),align:"center","min-width":"90px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t.formatDate(e.row.gray_time)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("appVersion.releaseTime"),align:"center","min-width":"90px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t.formatDate(e.row.release_time)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("appVersion.status"),align:"center","min-width":"80px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{type:t.formatTagString(e.row.status)}},[t._v(t._s(e.row.app_status))])]}}])}),t._v(" "),t.checkPermission?a("el-table-column",{attrs:{label:t.$t("actions.action"),align:"center","min-width":"200px","class-name":"small-padding fixed-width"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{disabled:5==e.row.status,type:"primary",size:"mini"},on:{click:function(a){t.handleUpdate(e.row)}}},[t._v("\n          "+t._s(t.$t("actions.edit"))+"\n        ")]),t._v(" "),a("el-popover",{directives:[{name:"show",rawName:"v-show",value:e.row.status<5,expression:"scope.row.status < 5"}],attrs:{placement:"top",width:"160px",trigger:"click",align:"center"},model:{value:e.row.pop_status,callback:function(a){t.$set(e.row,"pop_status",a)},expression:"scope.row.pop_status"}},[a("p",{attrs:{align:"center"}},[a("span",[t._v(t._s(t.formatStatusButtonConfirmString(e.row.status)))]),t._v(" "),a("span",{staticStyle:{color:"#c03639","font-weight":"bolder","font-size":"18px"}},[t._v(t._s(t.formatStatusString(e.row.status)))]),t._v(" "),a("span",[t._v("？")])]),t._v(" "),a("div",{staticStyle:{"text-align":"center",margin:"0"}},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){t.cancelPopover(e.row)}}},[t._v(t._s(t.$t("actions.cancel")))]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.confirmPopover(e.row)}}},[t._v(t._s(t.$t("actions.confirm")))])],1),t._v(" "),a("el-button",{staticStyle:{width:"60px"},attrs:{slot:"reference",type:"success",size:"mini"},slot:"reference"},[t._v(t._s(t.$t("selector.changeStatus")))])],1),t._v(" "),a("el-popover",{directives:[{name:"show",rawName:"v-show",value:e.row.status<2,expression:"scope.row.status < 2"}],attrs:{placement:"top",width:"160px",trigger:"click",align:"center"},model:{value:e.row.pop_de_status,callback:function(a){t.$set(e.row,"pop_de_status",a)},expression:"scope.row.pop_de_status"}},[a("p",{attrs:{align:"center"}},[a("span",[t._v(t._s(t.$t("selector.confirmDelete")))])]),t._v(" "),a("div",{staticStyle:{"text-align":"center",margin:"0"}},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){t.cancelPopover(e.row)}}},[t._v(t._s(t.$t("actions.cancel")))]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.deleteVersionPopover(e.row)}}},[t._v(t._s(t.$t("actions.confirm")))])],1),t._v(" "),a("el-button",{staticStyle:{width:"60px"},attrs:{slot:"reference",type:"danger",size:"mini"},slot:"reference"},[t._v(t._s(t.$t("actions.delete")))])],1)]}}])}):t._e(),t._v(" "),a("el-table-column",{attrs:{label:t.$t("appVersion.createTime"),align:"center",width:"100px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t.formatDate(e.row.create_time)))])]}}])})],1),t._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total>0"}],attrs:{total:t.total,page:t.listQuery.page,limit:t.listQuery.size},on:{"update:page":function(e){t.$set(t.listQuery,"page",e)},"update:limit":function(e){t.$set(t.listQuery,"size",e)},pagination:t.getList}}),t._v(" "),a("el-dialog",{attrs:{title:t.textMap[t.dialogStatus],visible:t.dialogFormVisible,width:"600px"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{ref:"dataForm",staticStyle:{width:"400px","margin-left":"50px"},attrs:{rules:t.rules,model:t.temp,"label-position":"left","label-width":"80px"}},[a("el-form-item",{attrs:{label:t.$t("appVersion.versionN"),prop:"version"}},[a("el-input",{attrs:{disabled:"update"===t.dialogStatus&&t.temp.status>1,placeholder:t.$t("appVersion.versionN")},model:{value:t.temp.version,callback:function(e){t.$set(t.temp,"version",e)},expression:"temp.version"}})],1),t._v(" "),a("el-form-item",{attrs:{label:t.$t("appVersion.parentVN"),prop:"parent_version"}},[a("el-input",{attrs:{disabled:"update"===t.dialogStatus&&t.temp.status>1,placeholder:t.$t("appVersion.parentVNPlaceholder")},model:{value:t.temp.parent_version,callback:function(e){t.$set(t.temp,"parent_version",e)},expression:"temp.parent_version"}})],1),t._v(" "),a("el-form-item",{attrs:{label:t.$t("appVersion.approvalTime"),prop:"approval_time"}},[a("el-date-picker",{attrs:{disabled:"update"===t.dialogStatus&&t.temp.status>1,placeholder:t.$t("appVersion.approvalTime"),type:"date"},model:{value:t.temp.approval_time,callback:function(e){t.$set(t.temp,"approval_time",e)},expression:"temp.approval_time"}})],1),t._v(" "),a("el-form-item",{attrs:{label:t.$t("appVersion.lockTime"),prop:"lock_time"}},[a("el-date-picker",{attrs:{disabled:"update"===t.dialogStatus&&t.temp.status>2,placeholder:t.$t("appVersion.lockTime"),format:"yyyy-MM-dd",type:"date"},model:{value:t.temp.lock_time,callback:function(e){t.$set(t.temp,"lock_time",e)},expression:"temp.lock_time"}})],1),t._v(" "),a("el-form-item",{attrs:{label:t.$t("appVersion.grayTime"),prop:"gray_time"}},[a("el-date-picker",{attrs:{disabled:"update"===t.dialogStatus&&t.temp.status>2,placeholder:t.$t("appVersion.grayTime"),format:"yyyy-MM-dd",type:"date"},model:{value:t.temp.gray_time,callback:function(e){t.$set(t.temp,"gray_time",e)},expression:"temp.gray_time"}})],1),t._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.temp.status>3,expression:"temp.status > 3"}],attrs:{label:t.$t("appVersion.releaseTime"),prop:"release_time"}},[a("el-date-picker",{attrs:{placeholder:t.$t("appVersion.releaseTime"),format:"yyyy-MM-dd",type:"date"},model:{value:t.temp.release_time,callback:function(e){t.$set(t.temp,"release_time",e)},expression:"temp.release_time"}})],1),t._v(" "),a("el-form-item",{attrs:{label:t.$t("appVersion.platform"),prop:"platform"}},[a("el-select",{staticStyle:{width:"320px"},attrs:{disabled:"update"===t.dialogStatus&&t.temp.status>1,placeholder:t.$t("selector.placeholder"),clearable:"",multiple:""},model:{value:t.temp.platform,callback:function(e){t.$set(t.temp,"platform",e)},expression:"temp.platform"}},t._l(t.platformOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v(t._s(t.$t("actions.cancel")))]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){"create"===t.dialogStatus?t.createData():t.updateDate()}}},[t._v(t._s(t.$t("actions.confirm")))])],1)],1)],1)},[],!1,null,"ff1242da",null));A.options.__file="index.vue";e.default=A.exports},Va2t:function(t,e,a){},jXb0:function(t,e,a){"use strict";var i={name:"fixedButton",props:{bottom:{type:Number,default:3}},data:function(){return{transition:!0,timer:null}},methods:{event:function(){this.$emit("clickEvent")},handleScroll:function(){var t=this;this.transition=!1,this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){t.transition=!0},1400)}},mounted:function(){window.addEventListener("scroll",this.handleScroll)}},r=(a("lOda"),a("KHd+")),n=Object(r.a)(i,function(){var t=this.$createElement;return(this._self._c||t)("section",{staticClass:"fixed-button",class:[this.transition?"":"fixed-transition"],style:{bottom:this.bottom+"rem"},on:{click:this.event}},[this._t("default")],2)},[],!1,null,"4f67669e",null);n.options.__file="index.vue";e.a=n.exports},lOda:function(t,e,a){"use strict";var i=a("Va2t");a.n(i).a},nUB0:function(t,e,a){},stOj:function(t,e,a){},tWJv:function(t,e,a){"use strict";a.d(e,"a",function(){return r}),a.d(e,"b",function(){return n}),a.d(e,"c",function(){return o});var i=a("bNJ/");function r(t){var e={bundle_id:t.bundle_id,icon:t.icon,name:t.name,desc:t.desc,managers:t.managers};return Object(i.a)({url:"/app",method:"post",data:e})}function n(t){var e={icon:t.icon,name:t.name,desc:t.desc,id:t.id,managers:t.managers,owner_id:t.owner_id};return Object(i.a)({url:"/app",method:"put",data:e})}function o(){return Object(i.a)({url:"/app/list/simple",method:"get"})}},xGbm:function(t,e,a){"use strict";function i(t,e){/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length)));var a={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds()};for(var i in a)if(new RegExp("("+i+")").test(e)){var n=a[i]+"";e=e.replace(RegExp.$1,1===RegExp.$1.length?n:r(n))}return e}function r(t){return("00"+t).substr(t.length)}function n(t){return(t/=1e3)<1e3?t.toFixed(3)+"µs":(t/=1e3)<1e3?t.toFixed(3)+"ms":(t/=1e3)<60?t.toFixed(3)+"s":(t/=60).toFixed(3)+"min"}function o(t){return!((new Date).valueOf()>t)}function s(t){var e=new Date;if(e.valueOf()>t)return"0s";var a=(t-e.valueOf())/1e3,i=0,r=0;a>60&&(i=parseInt(a/60),a=parseInt(a%60),i>60&&(r=parseInt(i/60),i=parseInt(i%60)));var n=parseInt(a)+"秒";return i>0&&(n=parseInt(i)+"分"+n),r>0&&(n=parseInt(r)+"小时"+n),n}a.d(e,"a",function(){return i}),a.d(e,"c",function(){return n}),a.d(e,"d",function(){return o}),a.d(e,"b",function(){return s})},yiRf:function(t,e,a){"use strict";var i=a("nUB0");a.n(i).a}}]);